[gd_scene load_steps=33 format=3 uid="uid://bqr6k6oay17kt"]

[ext_resource type="Script" path="res://Scene/main.gd" id="1_lr665"]
[ext_resource type="PackedScene" uid="uid://br7wshv6lvv7u" path="res://Scene/player.tscn" id="2_0veuu"]
[ext_resource type="PackedScene" uid="uid://ydsixscvkepy" path="res://Assets/pickable_examble.tscn" id="4_g3tqw"]
[ext_resource type="PackedScene" uid="uid://cj6utbl88v5b2" path="res://Assets/table_medium_2.tscn" id="5_pap61"]
[ext_resource type="Texture2D" uid="uid://cuxb4evgolai3" path="res://Name_1m x 1m.png" id="8_k0arb"]
[ext_resource type="PackedScene" uid="uid://jn1i8dw01ing" path="res://Assets/wall_2.tscn" id="9_qh01r"]
[ext_resource type="PackedScene" uid="uid://bcygv6o72sybu" path="res://Assets/wall_target_2.tscn" id="10_0h1h0"]
[ext_resource type="PackedScene" uid="uid://c14777khunlci" path="res://Assets/primitive_floor_2.tscn" id="10_kpc7a"]
[ext_resource type="PackedScene" uid="uid://fj3pgkp3eumw" path="res://Assets/primitive_slope_2.tscn" id="11_fyj4g"]
[ext_resource type="PackedScene" uid="uid://c7x7yn3wde7gw" path="res://Assets/target_stand_b_2.tscn" id="11_mhv44"]
[ext_resource type="PackedScene" uid="uid://i836kbc53lru" path="res://Assets/movable_barrel.tscn" id="12_k6xf2"]
[ext_resource type="PackedScene" uid="uid://bbqcpbgxq5go0" path="res://Assets/pallet_large_2.tscn" id="12_njjsm"]
[ext_resource type="PackedScene" uid="uid://d03deb86l4xfs" path="res://Assets/toy_gun.tscn" id="13_yly0m"]
[ext_resource type="Script" path="res://Scene/BulletManager.gd" id="14_cgwnr"]
[ext_resource type="PackedScene" uid="uid://gpi40i31e6yc" path="res://Assets/Breakable/xr_pickable_glass.tscn" id="15_nri32"]
[ext_resource type="PackedScene" uid="uid://clujaf3u776a3" path="res://addons/godot-xr-tools/objects/viewport_2d_in_3d.tscn" id="16_v1hqa"]
[ext_resource type="PackedScene" uid="uid://sgtypnyrn7eg" path="res://Interfaces/menu.tscn" id="17_fx2se"]
[ext_resource type="PackedScene" uid="uid://cuu24iorda2a" path="res://gun_snap_zone.tscn" id="18_5teid"]
[ext_resource type="PackedScene" uid="uid://wgum7m2nuw3i" path="res://target.tscn" id="19_g6kjg"]
[ext_resource type="PackedScene" uid="uid://bbgwpje78fyue" path="res://Assets/hide_whenplayer.tscn" id="20_sthgl"]
[ext_resource type="PackedScene" uid="uid://bva88scg56bha" path="res://Interfaces/StanceHint.tscn" id="21_vus3e"]
[ext_resource type="Material" uid="uid://j1vxigs43e7a" path="res://Scene/billboard_material.tres" id="22_smvwd"]
[ext_resource type="PackedScene" uid="uid://enw8j3habiox" path="res://Interfaces/ShootHint.tscn" id="23_dbpaf"]

[sub_resource type="Environment" id="Environment_7s6u7"]
background_mode = 1
background_color = Color(0.784314, 0.623529, 0.529412, 1)
ambient_light_energy = 4.84

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7bu8g"]
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("8_k0arb")
albedo_texture_force_srgb = true
uv1_scale = Vector3(10, 10, 10)

[sub_resource type="PlaneMesh" id="PlaneMesh_1dkpv"]
size = Vector2(100, 100)

[sub_resource type="BoxShape3D" id="BoxShape3D_snx8b"]

[sub_resource type="QuadMesh" id="QuadMesh_urr6x"]
resource_local_to_scene = true
size = Vector2(3, 2)

[sub_resource type="ViewportTexture" id="ViewportTexture_7dx0k"]
viewport_path = NodePath("Viewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hx2oi"]
transparency = 1
cull_mode = 2
shading_mode = 0
albedo_texture = SubResource("ViewportTexture_7dx0k")
texture_filter = 0

[sub_resource type="BoxShape3D" id="BoxShape3D_wrkvx"]
resource_local_to_scene = true
size = Vector3(3, 2, 0.02)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_f0a82"]
points = PackedVector3Array(-1, 0, -1, -1, 0, 1, 1, 0, -1, 1, 0, 1)

[node name="Main" type="Node3D"]
script = ExtResource("1_lr665")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7s6u7")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.625324, 0.780365, 0, -0.780365, -0.625324, 0, 17.3147, -25.4854)
light_color = Color(1, 0.890196, 0.784314, 1)
light_energy = 0.526
shadow_enabled = true

[node name="XRToolsPickable" parent="." instance=ExtResource("4_g3tqw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.25959, -3.16035)
collision_layer = 131076
picked_up_layer = 196608

[node name="XRToolsPickable2" parent="." instance=ExtResource("4_g3tqw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.651698, 2.28566, -3.24963)
collision_layer = 131076
picked_up_layer = 196608

[node name="Map2" type="Node3D" parent="."]

[node name="Floor+Walls" type="StaticBody3D" parent="Map2"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map2/Floor+Walls" groups=["lattia"]]
material_override = SubResource("StandardMaterial3D_7bu8g")
mesh = SubResource("PlaneMesh_1dkpv")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map2/Floor+Walls"]
transform = Transform3D(100, 0, 0, 0, 0.2, 0, 0, 0, 100, 0, -0.116513, 0)
shape = SubResource("BoxShape3D_snx8b")

[node name="Walls" type="Node3D" parent="Map2/Floor+Walls"]

[node name="Wall2" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, 1.5, 0, 1.5, 0, -3, 0, -6.55671e-08, -10.868, 0, 15.2944)

[node name="Wall3" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, 1.5, 0, 1.5, 0, -3, 0, -6.55671e-08, -10.868, 0, 3.77897)

[node name="Wall4" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, 1.5, 0, 1.5, 0, -3, 0, -6.55671e-08, -10.868, 0, -8.14553)

[node name="Wall5" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, 1.5, 0, 1.5, 0, -3, 0, -6.55671e-08, -10.868, 0, -19.661)

[node name="Wall6" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, -1.5, 0, 1.5, 0, 3, 0, -6.55671e-08, 25.8705, 0, 15.2944)

[node name="Wall7" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, -1.5, 0, 1.5, 0, 3, 0, -6.55671e-08, 25.8705, 0, 3.77897)

[node name="Wall8" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, -1.5, 0, 1.5, 0, 3, 0, -6.55671e-08, 25.8705, 0, -8.14553)

[node name="Wall9" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-1.31134e-07, 0, -1.5, 0, 1.5, 0, 3, 0, -6.55671e-08, 25.8705, 0, -19.661)

[node name="Wall10" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(3, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -9.34567, 0, -24.1833)

[node name="Wall11" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(3, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 2.16977, 0, -24.1833)

[node name="Wall12" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(3, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 14.0943, 0, -24.1833)

[node name="Wall13" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(3, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 25.6097, 0, -24.1833)

[node name="Wall14" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-3, 0, -1.31134e-07, 0, 1.5, 0, 2.62268e-07, 0, -1.5, -9.34567, 0, 20.8167)

[node name="Wall15" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-3, 0, -1.31134e-07, 0, 1.5, 0, 2.62268e-07, 0, -1.5, 2.16977, 0, 20.8167)

[node name="Wall16" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-3, 0, -1.31134e-07, 0, 1.5, 0, 2.62268e-07, 0, -1.5, 14.0943, 0, 20.8167)

[node name="Wall17" parent="Map2/Floor+Walls/Walls" instance=ExtResource("9_qh01r")]
transform = Transform3D(-3, 0, -1.31134e-07, 0, 1.5, 0, 2.62268e-07, 0, -1.5, 25.6097, 0, 20.8167)

[node name="Wall_Target2" parent="Map2/Floor+Walls" instance=ExtResource("10_0h1h0")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 13.5737, 0, 18.2429)

[node name="target_stand_B2" parent="Map2/Floor+Walls" instance=ExtResource("11_mhv44")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 13.6003, -0.016513, 16.4956)

[node name="target_stand_B2" parent="Map2/Floor+Walls/target_stand_B2" instance=ExtResource("11_mhv44")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.5288, 1.80005, 8.07363)

[node name="Pallet_Large2" parent="Map2/Floor+Walls" instance=ExtResource("12_njjsm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.47083, 1.78371, 16.6646)

[node name="Pallet_Large3" parent="Map2/Floor+Walls/Pallet_Large2" instance=ExtResource("12_njjsm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0420952, 0.5, 0.00568199)

[node name="Pallet_Large4" parent="Map2/Floor+Walls/Pallet_Large2/Pallet_Large3" instance=ExtResource("12_njjsm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100908, 0.5, 0.0690994)

[node name="target_stand_B3" parent="Map2/Floor+Walls/Pallet_Large2/Pallet_Large3/Pallet_Large4" instance=ExtResource("11_mhv44")]
transform = Transform3D(-0.819152, 0, 0.573576, 0, 1, 0, -0.573576, 0, -0.819152, 1.12925, 0.5, -0.432411)

[node name="Movable_Barrel2" parent="Map2/Floor+Walls" instance=ExtResource("12_k6xf2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.53849, 1, 3.14954)

[node name="Movable_Barrel3" parent="Map2/Floor+Walls" instance=ExtResource("12_k6xf2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.99983, 1, 4.76457)

[node name="Primitive_Slope2" parent="Map2/Floor+Walls" instance=ExtResource("11_fyj4g")]
transform = Transform3D(-4.37114e-08, 0, 3.01799, 0, 0.455103, 0, -1, 0, -1.31921e-07, -5.81691, -0.016513, 5.94968)

[node name="Primitive_Floor2" parent="Map2/Floor+Walls" instance=ExtResource("10_kpc7a")]
transform = Transform3D(2.7, 0, 0, 0, 1.8, 0, 0, 0, 3.2, -5.08584, -0.016513, 14.3593)

[node name="Movable_Barrel" parent="Map2/Floor+Walls" instance=ExtResource("12_k6xf2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 2)

[node name="table_medium3" parent="Map2/Floor+Walls" instance=ExtResource("5_pap61")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.1953, -0.016513, 9.7604)

[node name="table_medium2" parent="Map2" instance=ExtResource("5_pap61")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0984839, -3.2331)

[node name="table_medium2" parent="Map2/table_medium2" instance=ExtResource("5_pap61")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.72757, -0.0984839, 4.2519)

[node name="Toy-Gun" parent="." instance=ExtResource("13_yly0m")]
transform = Transform3D(0.0665933, -0.997607, -0.0186041, -0.997779, -0.0666048, 7.75382e-11, -0.00123912, 0.0185628, -0.999827, 9.37065, 0.934152, 9.06469)
mass = 5.0
gravity_scale = 1.0

[node name="BulletManager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.88178, 0)
script = ExtResource("14_cgwnr")

[node name="xr_pickable_glass" parent="." instance=ExtResource("15_nri32")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.05372, 0.779958, 1)

[node name="xr_pickable_glass2" parent="." instance=ExtResource("15_nri32")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.61704, 0.779958, 1)

[node name="xr_pickable_glass3" parent="." instance=ExtResource("15_nri32")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.11859, 0.779958, 1)

[node name="Viewport2Din3D" parent="." instance=ExtResource("16_v1hqa")]
transform = Transform3D(-5.09818e-08, -0.0558977, -0.0717504, -2.47786e-09, 1.42842, -0.00280782, 1.20884, 5.70504e-10, -3.03176e-09, 21.8572, 1.05575, -2.10344)
scene = ExtResource("17_fx2se")
viewport_size = Vector2(600, 400)
update_mode = 2
throttle_fps = 24.0
unshaded = true
filter = false

[node name="Viewport" parent="Viewport2Din3D" index="0"]
size = Vector2i(600, 400)

[node name="Screen" parent="Viewport2Din3D" index="1"]
mesh = SubResource("QuadMesh_urr6x")
surface_material_override/0 = SubResource("StandardMaterial3D_hx2oi")

[node name="StaticBody3D" parent="Viewport2Din3D" index="2"]
viewport_size = Vector2(600, 400)

[node name="CollisionShape3D" parent="Viewport2Din3D/StaticBody3D" index="0"]
transform = Transform3D(1, -5.9508e-14, 4.61853e-14, 0, 1, 0, 0, 2.56235e-21, 1, 0, 9.53674e-07, -0.0100002)
shape = SubResource("BoxShape3D_wrkvx")

[node name="GunSnapZone" parent="." instance=ExtResource("18_5teid")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 10.0862, 1.02929, 8.80444)

[node name="Target" parent="." instance=ExtResource("19_g6kjg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.86832, 2.30839, -23.8083)

[node name="Fall_Catcher" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -48.6893, 0)
collision_layer = 524289
collision_mask = 524289

[node name="CollisionShape3D" type="CollisionShape3D" parent="Fall_Catcher"]
transform = Transform3D(300, 0, 0, 0, 300, 0, 0, 0, 300, 0, -12.0349, 136.681)
shape = SubResource("ConvexPolygonShape3D_f0a82")

[node name="Checkpoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.33429, 0, 0)

[node name="Hide_whenplayer" parent="." instance=ExtResource("20_sthgl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.7588, 1.78167, 1.19976)

[node name="Viewport2Din3D" parent="Hide_whenplayer" instance=ExtResource("16_v1hqa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.297926, 0)
enabled = false
scene = ExtResource("21_vus3e")
viewport_size = Vector2(400, 180)
material = ExtResource("22_smvwd")
transparent = 2

[node name="Hide_whenplayer2" parent="." instance=ExtResource("20_sthgl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.88896, 1.48528, 8.04533)

[node name="Viewport2Din3D" parent="Hide_whenplayer2" instance=ExtResource("16_v1hqa")]
transform = Transform3D(1.43387, 0, 0, 0, 0.8, 0, 0, 0, 1, -1.33641, 0.490203, -0.333492)
enabled = false
scene = ExtResource("23_dbpaf")
viewport_size = Vector2(450, 180)
material = ExtResource("22_smvwd")
transparent = 2

[node name="XROrigin3D" parent="." instance=ExtResource("2_0veuu")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[connection signal="body_entered" from="Fall_Catcher" to="." method="_on_fall_catcher_body_entered"]
[connection signal="body_exited" from="Fall_Catcher" to="." method="_on_fall_catcher_body_exited"]

[editable path="Map2/Floor+Walls/Primitive_Slope2"]
[editable path="Toy-Gun"]
[editable path="Viewport2Din3D"]
